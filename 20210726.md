## 파싱 트리


![image](https://user-images.githubusercontent.com/40421183/127004103-d23da86f-9239-4c8b-86f2-37892d65afb0.png)

[그림 출처](https://d2.naver.com/helloworld/59361)


일련의 문자열을 의미있는 토큰으로 분해하고(어휘 분석), 토큰을 의미를 가진  렉서(구문 분석)로 만들고, 이들로 이루어진 파서 트리를 만드는 과정

토큰은 사전의 단어, 렉서는 단어의 의미, 파서는 단어로 이루어진 문장이라고 볼 수 있다.


HTML DOM은 파싱 트리 형태로 생성되있으며 querySelector 등에 쓰인다.

![](https://i.imgur.com/pMiGQsd.png)


인터넷 브라우저마다 구성 방법이 약간씩 다르나 큰 틀에서 보면 
DOM-문서 객체 모델(Document Object Model)을 가장 맨 위로 하는 dom트리 형태를 띄고 있다. 


어휘는 보통 정규 표현식으로 표현하고,

     <digit> ::= "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9"
     <letter> ::= "A" | "B" | "C" | "D" | "E" | "F"
구문은 BNF 문법(재귀적)으로 구현한다.




## 정규표현식

특정한 규칙을 가진 문자열의 집합을 표현하는데 사용하는 사용언어

자바스크립트에서는 

      var re = new RegExp("ab+c");
  
      var re = /ab+c/;
  
  
두가지 방식으로 만들 수 있다. 간편히 사용하면 아래의 리터럴 방식을 사용하고, 동적으로 바뀐다면 위의 생성자 함수를 이용한다.




|정규식|설명|
|------|---|
|/abc/ |단순 문자 abc를 찾는다|
|/a*c/|가운데 아무 문자가 끼인 문자열(abbc, abbbbc등)|
|\||특수 문자 그대로 처리 ex-(\* )|
|^a |시작이 a|
|$a|끝이 a|
|+a|1번 이상{1,}|
|a*|0번 이상({0,}(무조건 잡아온다)|
|a?|가 있거나 없거나|
|(abc)|abc를 찾아오고 캡쳐되어 저장됨|

* 문자열과 숫자 = [a-zA-Z0-9]

연습 가능한 사이트 - https://regex101.com

# XML


보통 데이터들은 프로그램, 저장소끼리 양식이 달라서 서로 호환이 안되는 문제점이 있다.
XML은 데이터를 텍스트 형식으로 저장하므로, 소프트웨어나 하드웨어에 독립적으로 데이터를 저장하고 전달

버젼 명시

\<?xml version="1.0" encoding="UTF-8"?>

 - version: XML 문서의 버전을 명시합니다.

 - encoding: XML 문서의 문자 셋(Character Set)을 명시합니다. 일반적으로 UTF-8을 사용합니다.

 - standalone: XML 문서 외부 소스 데이터에 의존하는지의 여부를 명시합니다.


*안드로이드 뷰로도 쓰인다.
html <-> xml 서로 호환성이 있다만 html가 약간 더 문법이 너그럽다
\</tag>등 안써도 허용해주는게 몇가지 있다)

1. 루트(root) 요소를 하나만 가져야 합니다.
2. 모든 XML 요소는 종료 태그를 가져야 합니다.
3. 시작 태그와 종료 태그에 사용된 태그 이름이 대소문자까지 완벽하게 일치해야 합니다.
4. 모든 XML 요소의 여닫는 순서가 반드시 정확하게 지켜져야 합니다.
5. 모든 속성의 속성값이 따옴표로 둘러싸여 있어야 합니다.

즉, 문법을 잘 지켜야 한다.


### json과의 차이 

태그로 표현하기 보다는 중괄호({}) 같은 형식으로 하고, 값을 ','로 나열하기에 그 표현이 간단하다.

일반적으로 서버와의 통신 규약인 REST API를 사용할 때 가장 많이 사용되나 주석 사용불가(xml은 가능)

json은 자바스크립트 문법 형식으로 쓰이기 때문에 많이 점점 쓰이고, 매우 빠르나 무결성 검증을 유저가 직접 해야한다는 단점이 있다.

xml은 문법이 엄격해서 검증이 쉬우나 상대적으로 느리다, 그리고 메타데이터를 표현하기 쉽다.

### 문법에 맞는(well-formed) XML 문서란 

XML 문서로서 가져야 하는 최소한의 필수 요건을 충족한 XML 

## Xpath 란?

XML 문서의 특정 요소나 속성에 접근하기 위한 경로를 지정하는 언어

    <ul>
        <li>
            <p>test1</p>
        </li>
        <li>
            <p>test2</p>
        </li>
    </ul>


위와 같은 문자열에 접근하려면 ul > li > p > ...등 복잡한 과정을 거치는데 이것을 좀 더 수월하게 하기 위해서 고안된 방법 

'/body/ul/li[1]' 같이 인덱스 순서에 따라 따라 접근 가능하다. 


### 간단 예시
|글자|설명|
|------|---|
|//li/text() |text를 가져온다|
|//span[@style] |속성은 @로 접근한다. |


F12를 누르고 개발자 모드에서 홈페이지의 xpath, selector 등을 카피 가능하다.





# REFERENCE 

파싱트리 
https://d2.naver.com/helloworld/59361

xpath
https://man-about-town.tistory.com/28

xml

출처: https://ndb796.tistory.com/251

tcp school - xml 
http://www.tcpschool.com/xml/xml_intro_purpose

