* 샤딩

반정규화(수평분할)

## 컴파일 진행상황

컴파일러 -> 어셈블러 -> 링커(라이브러리)-> 프로그램 
 
* 기계어 -> 니모닉 언어 -> 어셈블리

# 자바 스크립트

자바스크립트는 스크립터이다.

*V8엔진, jscore 등은 컴파일러에 가깝고 최적화를 위해 약간씩 프리컴파일 
(자바처럼 bytecode를 쓴다.)

# 프로그램 실행 과정

정보가 소통되는 과정(프로세스)

I/0 <-> processor(OS) <-> memory 

*I/0에서 바로 memory로 가기도 간다(DMA)
 
 # 메모리 모델
 
 ![image](https://user-images.githubusercontent.com/40421183/126662479-080639f6-eff5-4afd-9fcf-152004341590.png)


(high address)
### text 

함수 코드, 제어문, 상수 -> const 
문자열은 코드와 같은곳에 상수화 되서 저장하고 포인터로 잇는다!
node나 브라우저는 text 대신 코드 영역이 따로 존재

### GVAR/BSS

범위가 정해지지 않는 전역 변수

GVAR = 초기화 한 전역
BSS 초기화 안한 전역

### HEAP 

동적으로 할당(malloc, new 등)
객체는 대부분 HEAP에 저장된다
스택에서 포인터가 제거되어 참조되지 않는 객체들은 가비지콜렉터가 나중 수집하여 지우게 된다. 

### STACK 

함수를 호출할때마다 지역 변수, 매개변수 리턴 값등이 저장되는 곳 
(low address)

참고 
https://ui.toast.com/weekly-pick/ko_20200228

# 쓰레드 프로세스 차이 

프로세스 : 운영체제로부터 작업을 할당받는 작업 단위 

쓰레드 : "프로세스 내에서 실행되는 여러 실행 단위"

프로세스 내 여러개의 쓰레드!
스택, 힙등 여러 자원 공유

# context switching 

여러 cpu가 작업을 돌아가며 하는 행위
*멀티 프로세싱때 사용

# IPC 프로세스간 통신

프로세스들 사이에 서로 데이터를 주고받는 행위 또는 그에 대한 방법이나 경로

ex) 파이프, 소켓, shared memory 등등

# 메모리 관리 장치 

MMU는 memory management unit의 약자로, 메모리 관리의 핵심적인 역할을 담당합니다.
(가상주소->물리주소)

주로 페이징, 세그멘테이션 등의 가상 메모리 방법을 사용한다.

우선 MMU 내에 TLB라는 페이지 테이블 엔트리 정보를 참조해 원하는 정보를 찾아낸다.

이때 데이터가 없다면 page fault라 하며 페이지 교체 알고리즘을 통하여
정보를 찾아낸다.

페이징 -> 고정 크기의 논리적 블록
세그멘테이션 -> 가변 크기의 논리적 블록 

세그멘테이션은 외부 단편화 발생 가능성(블록보다 외부 프로그램이 큰 경우),
반대로 페이징은 내부 단편화 발생 가능성(블록보다 외부 프로그램이 작은경우)

 프로그램을 구성하는 서브루틴, 프로시저, 함수, 모듈 등으로 세그먼트를 구성 
 -> 각 세그먼트는 연관된 기능을 수행하는 하나의 모듈 프로그램으로 다룸

# 가비지 콜렉터 

GC는 2가지 전제를 갖고 있다.

### minor GC(young Generation)

 새롭게 생성된 객체. 많은 객체가 이 영역에 생겼다 사라진다.
 
### Major GC(old Generation)

오랫동안 살아남은 객체는 이 영역으로 복사된다.

GC는 크게 두가지 과정을 거친다

1. stop the world
 
GC 작업을 위해 모든 작업이 중지된다.(이 기간은 짧을수록 좋다)

2. Mark and Sweep

Mark : 사용되는, 안되는 메모리 식별

Sweep : 사용 되지 않는 메모리 해체 






출처

http://tcpschool.com/c/c_memory_structure
